(function(a,b){function c(){var a=[];this.addListener=function(b,c){a[b=b.toLowerCase()]===undefined&&(a[b]=[]),a[b].push(c);return this},this.removeListener=function(b,c){var d=a[b=b.toLowerCase()];for(var e in d)if(d[e]===c){d.splice(e,1);break}a[b]=d;return this},this.getListeners=function(b){return a[b=b.toLowerCase()]!==undefined?a[b]:a},this.clearListeners=function(){a=[];return this},this.dispatch=function(b){var c=a[b=b.toLowerCase()];for(var d in c)c[d]();return this}}a.Stylesheet=function(d){var e=!1,f,g=new c;this.addListener=function(a,b){return g.addListener(a,b)},this.removeListener=function(a,b){return g.removeListener(a,b)},this.getListeners=function(a){return g.getListeners(a)},this.clearListeners=function(){return g.clearListeners()};var h=function(a){return g.dispatch(a)},i=function(){f=b.createElement("style"),f.type="text/css",f.rel="stylesheet",b.getElementsByTagName("head")[0].appendChild(f)},j=function(){return f.sheet!==undefined?f.sheet:f.styleSheet},k=function(){var b=[function(){return new a.ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new a.ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new a.XMLHttpRequest}],c=b.length;while(c--)try{return b[c]()}catch(d){}return!1},l=function(){var a=k();if(a===undefined)throw"XmlHttpRequest is not available";a.open("GET",f.href,!0),a.onreadystatechange=function(){if(a.readyState==4){if(a.status!=200&&a.status!=304)throw"Ouch! Bad returned state: "+a.statusText;try{f.appendChild(b.createTextNode(a.responseText))}catch(c){f.text=a.responseText}e=!0,h("ready")}},a.send(null)};this.isReady=function(){return e},this.isDetached=function(){return f===null},this.detach=function(){f.parentNode.removeChild(f),f=null;return this},this.setContents=function(a){f.tagName=="LINK"&&(this.detach(),this.createNewNode());try{var c=f.firstChild;c&&f.removeChild(c),f.appendChild(b.createTextNode(a))}catch(d){f.text=a}return this},this.getContents=function(){if(f.textContent!==undefined)return f.textContent;return f.text},this.setMedias=function(a){f.media=a.join(",");return this},this.getMedias=function(){var a=f.media.split(",");a[0]===""&&a.splice(0,1);return a},this.addMedia=function(a){var b=this.getMedias();b.push(a),this.setMedias(b);return this},this.removeMedia=function(a){var b=this.getMedias();for(var c in b)if(b[c]==a){b.splice(c,1);break}this.setMedias(b);return this},this.getRules=function(){var a=j();return a.cssRules?a.cssRules:a.rules},this.isDisabled=function(){return j().disabled},this.enable=function(){j().disabled=!1;return this},this.disable=function(){j().disabled=!0;return this},d===undefined?(i(),e=!0,h("ready")):typeof d=="string"?(i(),this.setContents(d),e=!0,h("ready")):(f=d,f.tagName=="LINK"&&l())};var d=a.Stylesheet;if(a.Sheethub===undefined){a.Sheethub={};var e=a.Sheethub,f=!1,g=[],h=0,i=new c;e.addListener=function(a,b){return i.addListener(a,b)},e.removeListener=function(a,b){return i.removeListener(a,b)},e.getListeners=function(a){return i.getListeners(a)},e.clearListeners=function(){return i.clearListeners()};var j=function(a){return i.dispatch(a)};e.isReady=function(){return f},e.hasStylesheet=function(a){return g[a]!==undefined},e.addStylesheet=function(a,b){if(e.hasStylesheet(a))throw"The '"+a+"' stylesheet already exists";if(!(b instanceof d))throw"The stylesheet object must be of type Stylesheet";g[a]=b;return this},e.getStylesheet=function(a){if(!e.hasStylesheet(a))throw"The '"+a+"' stylesheet doesn't exist";return g[a]},e.removeStylesheet=function(a){if(!e.hasStylesheet(a))throw"The '"+a+"' stylesheet doesn't exist";g[a].detach(),delete g[a];return this},e.getStylesheets=function(){return g};var k=[],l=b.getElementsByTagName("link"),m=b.getElementsByTagName("style"),n=l.length;for(var o=0;o<n;++o)k.push(l[o]),++h;n=m.length;for(o=0;o<n;++o)k.push(m[o]);var p=function(){--h===0&&(f=!0,j("ready"))};for(o in k){var q=k[o],r;if((r=q.title)===""||e.hasStylesheet(r))while(e.hasStylesheet(r="stylesheet"+Math.round(Math.random()*8999+1e3)));g[r]=new d(q),g[r].isReady()?p():g[r].addListener("ready",p)}}})(this,this.document)