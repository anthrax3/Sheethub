/*https://github.com/pyrsmk/Sheethub*/this.Sheethub=function(){var a=document,b="getElementsByTagName",c=a[b]("head")[0],d="removeChild",e="parentNode",f={},g=!1,h=[],i=0,j,k=[],l=a[b]("link"),m=a[b]("style"),n,o,p=function(){if(!--i){g=!0;var a=h.length;while(a)h[--a]()}},q=function(b){var f,g=!1,h=[],i="appendChild",j="styleSheet",k,l=function(){c[i](f=a.createElement("style")),f[j]||f[i](a.createTextNode(""))},m=function(){g=!0,k=h.length;while(k)h[--k]()},n={listen:function(a){h.push(a)},ready:function(){return g},set:function(a){f[j]?f[j].cssText=a:(f.tagName=="LINK"&&(f[e][d](f),l()),f.firstChild.nodeValue=a)},get:function(a){return f[j]?f[j].cssText:f.innerHTML},node:function(){return f}},o=function(){c?typeof b=="object"?(f=b,f.tagName=="LINK"&&(this.XMLHttpRequest?k=new XMLHttpRequest:k=new ActiveXObject("Microsoft.XMLHTTP"),k.open("GET",f.href,!0),k.onreadystatechange=function(){k.readyState==4&&(n.set(k.responseText.replace(/\.\.\//g,"")),m())},k.send(null))):(l(),typeof b=="string"&&n.set(b),m()):setTimeout(o,250)};return o(),n},r={listen:function(a){h.push(a)},ready:function(){return g},has:function(a){return f[a]},add:function(a,b){r.has(a)||(f[a]=new q(b))},get:function(a){if(!a)return f;if(r.has(a))return f[a]},remove:function(a){r.has(a)&&(n=f[a].node(),n[e][d](n),delete f[a])}};n=-1;while(o=l[++n])o.rel!="icon"&&(k.push(o),++i);n=m.length;while(n)k.push(m[--n]);n=-1;while(j=k[++n])!(o=j.title)&&j.href&&(o=j.href.match(/([^\/]+)\.css$/)[1]),r.add(o,j),f[o].ready()?p():f[o].listen(p);return r}();
